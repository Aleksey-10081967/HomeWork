Script started on Tue 25 May 2021 07:18:55 AM UTC
]0;root@vmtest:~[?1034h[root@vmtest ~]#  mkdir /usr/lib/dracut/modules.d/01test
]0;root@vmtest:~[root@vmtest ~]#  mkdir /usr/lib/dracut/modules.d/01test[C[C[1P /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cc /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cd /usr/lib/dracut/modules.d/01test[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# vi module-setup.sh
[?1049h[?1h=[1;30r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[30;1H"module-setup.sh" [New File][2;1H[94m~                                                                                                                       [3;1H~                                                                                                                       [4;1H~                                                                                                                       [5;1H~                                                                                                                       [6;1H~                                                                                                                       [7;1H~                                                                                                                       [8;1H~                                                                                                                       [9;1H~                                                                                                                       [10;1H~                                                                                                                       [11;1H~                                                                                                                       [12;1H~                                                                                                                       [13;1H~                                                                                                                       [14;1H~                                                                                                                       [15;1H~                                                                                                                       [16;1H~                                                                                                                       [17;1H~                                                                                                                       [18;1H~                                                                                                                       [19;1H~                                                                                                                       [20;1H~                                                                                                                       [21;1H~                                                                                                                       [22;1H~                                                                                                                       [23;1H~                                                                                                                       [24;1H~                                                                                                                       [25;1H~                                                                                                                       [26;1H~                                                                                                                       [27;1H~                                                                                                                       [28;1H~                                                                                                                       [29;1H~                                                                                                                       [1;1H[?12l[?25h[?25l[m[30;1H[1m-- INSERT --[m[30;13H[K[1;1H[?12l[?25h[?25l#[?12l[?25h[?25l![?12l[?25h[?25l/[?12l[?25h[?25lb[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25l/[?12l[?25h[?25lb[?12l[?25h[?25la[?12l[?25h[?25ls[?12l[?25h[?25lh[?12l[?25h[?25l[2;1H[K[2;1H[?12l[?25h[?25l[3;1H[K[3;1H[?12l[?25h[?25lc[?12l[?25h[?25lhe[?12l[?25h[?25lc[?12l[?25h[?25lk[?12l[?25h[?25l([?12l[?25h[?25l)[?12l[?25h[?25l [?12l[?25h[?25l{[?12l[?25h[?25l[4;1H[K[4;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25lreturn 0
}[5;2H[K[6;1H[K[7;1Hdepends() {[7;12H[K[8;1H[K[8;1H[?12l[?25h[?25l    return 0
}[9;2H[K[9;2H[?12l[?25h[?25l[10;1H[K[10;1H[?12l[?25h[?25l[11;1H[K[11;1H[?12l[?25h[?25li[?12l[?25h[?25lns[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l([?12l[?25h[?25l)[?12l[?25h[?25l [?12l[?25h[?25l{[?12l[?25h[?25l[12;1H[K[12;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25l_[?12l[?25h[?25lh[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lk[?12l[?25h[?25l [?12l[?25h[?25lc[?12l[?25h[?25lle[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lu[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25l0[?12l[?25h[?25l0[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25l$[?12l[?25h[?25l{m[?12l[?25h[?25lo[?12l[?25h[?25ld[?12l[?25h[?25ld[?12l[?25h[?25li[?12l[?25h[?25lr}[?12l[?25h[?25l/[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25lst.sh"
}[13;2H[K[14;1H[K[14;1H[?12l[?25h[30;1H[K[14;1H[?25l[?12l[?25h[?25l[94m~                                                                                                                       [13;1H[?12l[?25h[?25l[30;1H[m:[?12l[?25hwq![?25l"module-setup.sh" [New] 13L, 126C written
[?1l>[?12l[?25h[?1049l]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# chmod +x module-setup.sh
]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# vi test.sh
[?1049h[?1h=[1;30r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[30;1H"test.sh" [New File][2;1H[94m~                                                                                                                       [3;1H~                                                                                                                       [4;1H~                                                                                                                       [5;1H~                                                                                                                       [6;1H~                                                                                                                       [7;1H~                                                                                                                       [8;1H~                                                                                                                       [9;1H~                                                                                                                       [10;1H~                                                                                                                       [11;1H~                                                                                                                       [12;1H~                                                                                                                       [13;1H~                                                                                                                       [14;1H~                                                                                                                       [15;1H~                                                                                                                       [16;1H~                                                                                                                       [17;1H~                                                                                                                       [18;1H~                                                                                                                       [19;1H~                                                                                                                       [20;1H~                                                                                                                       [21;1H~                                                                                                                       [22;1H~                                                                                                                       [23;1H~                                                                                                                       [24;1H~                                                                                                                       [25;1H~                                                                                                                       [26;1H~                                                                                                                       [27;1H~                                                                                                                       [28;1H~                                                                                                                       [29;1H~                                                                                                                       [1;1H[?12l[?25h[?25l[m[30;1H[1m-- INSERT --[m[30;13H[K[1;1H[?12l[?25h[?25l#[?12l[?25h[?25l![?12l[?25h[?25l/[?12l[?25h[?25lbi[?12l[?25h[?25ln[?12l[?25h[?25l/[?12l[?25h[?25lb[?12l[?25h[?25las[?12l[?25h[?25lh[?12l[?25h[?25l[2;1H[K[2;1H[?12l[?25h[?25l[3;1H[K[3;1H[?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25le[?12l[?25h[?25lc[?12l[?25h[?25l 0[?12l[?25h[?25l<[?12l[?25h[?25l>[?12l[?25h[?25l/[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lv[?12l[?25h[?25l/[?12l[?25h[?25lconsole 1<>/de[?12l[?25h[?25lv/[?12l[?25h[?25lc[?12l[?25h[?25lo[?12l[?25h[?25ln[?12l[?25h[?25ls[?12l[?25h[?25lo[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25l2[?12l[?25h[?25l<[?12l[?25h[?25l>[?12l[?25h[?25l/[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lv[?12l[?25h[?25l/[?12l[?25h[?25lc[?12l[?25h[?25lo[?12l[?25h[?25ln[?12l[?25h[?25ls[?12l[?25h[?25lol[?12l[?25h[?25le[?12l[?25h[?25l[4;1H[K[4;1H[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25lt[?12l[?25h[?25l [?12l[?25h[?25l<[?12l[?25h[?25l<'[?12l[?25h[?25lm[?12l[?25h[?25ls[?12l[?25h[?25lg[?12l[?25h[?25le[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25l'[?12l[?25h[?25l[5;1H[K[5;1H[?12l[?25h[?25l[6;1H[K[6;1H[?12l[?25h[?25lH[?12l[?25h[?25le[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25lo! You are i[?12l[?25h[?25ln[?12l[?25h[?25l [?12l[?25h[?25ld[?12l[?25h[?25lra[?12l[?25h[?25lc[?12l[?25h[?25lu[?12l[?25h[?25lt[?12l[?25h[?25l [?12l[?25h[?25lm[?12l[?25h[?25lo[?12l[?25h[?25ld[?12l[?25h[?25lu[?12l[?25h[?25ll[?12l[?25h[?25le![?12l[?25h[?25l[7;1H[K[7;1H[?12l[?25h[?25l[8;1H[K[8;1H[?12l[?25h[?25l [?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l[9;1H[K[9;1H[?12l[?25h[?25l<[?12l[?25h[?25l [?12l[?25h[?25lI[?12l[?25h[?25l'[?12l[?25h[?25lm dracut module[?12l[?25h[?25l [?12l[?25h[?25l>[?12l[?25h[?25l[10;1H[K[10;1H[?12l[?25h[?25l [?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l--[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l-[?12l[?25h[?25l[11;1H[K[11;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l\[?12l[?25h[?25l[12;1H[K[12;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l\[?12l[?25h[?25l[13;1H[K[13;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25l [?12l[?25h[?25l.--.
       |o_o |[14;14H[K[14;14H[?12l[?25h[?25l
 [15;2H[K[15;2H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25l [?12l[?25h[?25l|[?12l[?25h[?25l:[?12l[?25h[?25l_[?12l[?25h[?25l/[?12l[?25h[?25l [?12l[?25h[?25l|[?12l[?25h[?25l[16;1H[K[16;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l/[?12l[?25h[?25l/[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l\[?12l[?25h[?25l [?12l[?25h[?25l\[17;1H[K[17;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25l [?12l[?25h[?25l([?12l[?25h[?25l|[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  | )
    /'\_ [18;10H[K[18;10H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l_[?12l[?25h[?25l/[?12l[?25h[?25l`[?12l[?25h[?25l\[?12l[?25h[?25l[19;1H[K[19;1H[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l  [?12l[?25h[?25l\[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l)[?12l[?25h[?25l=[?12l[?25h[?25l([?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l_[?12l[?25h[?25l/[?12l[?25h[?25l[20;1H[K[20;1H[?12l[?25h[?25lm[?12l[?25h[?25ls[?12l[?25h[?25lg[?12l[?25h[?25le[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25l[21;1H[K[21;1H[?12l[?25h[?25ls[?12l[?25h[?25lle[?12l[?25h[?25le[?12l[?25h[?25lp [?12l[?25h[?25l1[?12l[?25h[?25l0[?12l[?25h[?25l[22;1H[K[22;1H[?12l[?25h[?25le[?12l[?25h[?25lc[?12l[?25h[?25lh[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25l" continuing....[?12l[?25h[?25l"[?12l[?25h[?25l[23;1H[K[23;1H[?12l[?25h[30;1H[K[23;1H[?25l[?12l[?25h[?25l[94m~                                                                                                                       [22;1H[?12l[?25h[?25l[30;1H[m:[?12l[?25hwq![?25l"test.sh" [New] 22L, 334C written
[?1l>[?12l[?25h[?1049l]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# chmod +x test.sh
]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# mkinitrd -f -v /boot/initramfs-$(uname -r).img $(uname -r)
Executing: /sbin/dracut -f -v /boot/initramfs-3.10.0-1160.25.1.el7.x86_64.img 3.10.0-1160.25.1.el7.x86_64
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'mdraid' will not be installed, because command 'mdadm' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'mdraid' will not be installed, because command 'mdadm' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
*** Including module: bash ***
*** Including module: test ***
*** Including module: nss-softokn ***
*** Including module: i18n ***
*** Including module: drm ***
*** Including module: plymouth ***
*** Including module: dm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 60-persistent-storage-dm.rules
Skipping udev rule: 55-dm.rules
*** Including module: kernel-modules ***
Omitting driver floppy
*** Including module: lvm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 56-lvm.rules
Skipping udev rule: 60-persistent-storage-lvm.rules
*** Including module: qemu ***
*** Including module: resume ***
*** Including module: rootfs-block ***
*** Including module: terminfo ***
*** Including module: udev-rules ***
Skipping udev rule: 40-redhat-cpu-hotplug.rules
Skipping udev rule: 91-permissions.rules
*** Including module: biosdevname ***
*** Including module: systemd ***
*** Including module: usrmount ***
*** Including module: base ***
*** Including module: fs-lib ***
*** Including module: shutdown ***
*** Including modules done ***
*** Installing kernel module dependencies and firmware ***
*** Installing kernel module dependencies and firmware done ***
*** Resolving executable dependencies ***
*** Resolving executable dependencies done***
*** Hardlinking files ***
*** Hardlinking files done ***
*** Stripping files ***
*** Stripping files done ***
*** Generating early-microcode cpio image contents ***
*** No early-microcode cpio image needed ***
*** Store current command line parameters ***
*** Creating image file ***
*** Creating image file done ***
*** Creating initramfs image file '/boot/initramfs-3.10.0-1160.25.1.el7.x86_64.img' done ***
]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# lsinitrd -m /boot/initramfs-$(uname -r).img | grep test
[01;31m[Ktest[m[K
]0;root@vmtest:/usr/lib/dracut/modules.d/01test[root@vmtest 01test]# exit
exit

Script done on Tue 25 May 2021 07:23:17 AM UTC
